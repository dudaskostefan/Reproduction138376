{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":183,"column":0,"index":5846}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":183,"column":0,"index":5846}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"../Utilities/infoLog","data":{"asyncType":null,"locs":[{"start":{"line":13,"column":16,"index":253},"end":{"line":13,"column":47,"index":284}}],"key":"te7FMDljSHoh4Ptoq0ebhkaWbSA="}},{"name":"invariant","data":{"asyncType":null,"locs":[{"start":{"line":14,"column":18,"index":304},"end":{"line":14,"column":38,"index":324}}],"key":"Fzi/BpZws2YooIGJ9b6u0HJtuks="}}],"output":[{"data":{"code":"__d((function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]),t=r(d[1]),u=(r(d[2]),r(d[3])),s=(function(){return t((function t(u){var s=u.onMoreTasks;e(this,t),this._onMoreTasks=s,this._queueStack=[{tasks:[],popable:!1}]}),[{key:\"enqueue\",value:function(e){this._getCurrentQueue().push(e)}},{key:\"enqueueTasks\",value:function(e){var t=this;e.forEach((function(e){return t.enqueue(e)}))}},{key:\"cancelTasks\",value:function(e){this._queueStack=this._queueStack.map((function(t){return Object.assign({},t,{tasks:t.tasks.filter((function(t){return-1===e.indexOf(t)}))})})).filter((function(e,t){return e.tasks.length>0||0===t}))}},{key:\"hasTasksToProcess\",value:function(){return this._getCurrentQueue().length>0}},{key:\"processNext\",value:function(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{'object'==typeof t&&t.gen?this._genPromise(t):'object'==typeof t&&t.run?t.run():(u('function'==typeof t,'Expected Function, SimpleTask, or PromiseTask, but got:\\n'+JSON.stringify(t,null,2)),t())}catch(e){throw e.message='TaskQueue: Error with task '+(t.name||'')+': '+e.message,e}}}},{key:\"_getCurrentQueue\",value:function(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&this._queueStack.length>1?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}},{key:\"_genPromise\",value:function(e){var t=this;this._queueStack.push({tasks:[],popable:!1});var u=this._queueStack.length-1,s=this._queueStack[u];e.gen().then((function(){s.popable=!0,t.hasTasksToProcess()&&t._onMoreTasks()})).catch((function(t){setTimeout((function(){throw t.message=`TaskQueue: Error resolving Promise in task ${e.name}: ${t.message}`,t}),0)}))}}])})();m.exports=s}));","lineCount":1,"map":[[1,30,11,0],[1,43,11,13],[1,47,11,13,"_classCallCheck"],[1,49,11,13,"r"],[1,51,11,13,"d"],[1,53,11,13],[1,57,11,13,"_createClass"],[1,59,11,13,"r"],[1,61,11,13,"d"],[1,63,11,13],[1,67,14,6,"invariant"],[1,70,13,16,"require"],[1,72,13,23,"d"],[1,74,13,23],[1,78,14,18,"require"],[1,80,14,25,"d"],[1,82,14,25],[1,87,44,6,"TaskQueue"],[1,90,44,15],[1,101,57,2],[1,108,57,2,"_createClass"],[1,111,52,2],[1,120,52,2,"TaskQueue"],[1,122,52,2,"_ref"],[1,125,52,61],[1,129,52,15,"onMoreTasks"],[1,131,52,26,"_ref"],[1,133,52,15,"onMoreTasks"],[1,145,52,26,"_classCallCheck"],[1,147,52,26,"this"],[1,152,52,26,"TaskQueue"],[1,155,53,4,"this"],[1,160,53,9,"_onMoreTasks"],[1,173,53,24,"onMoreTasks"],[1,175,54,4,"this"],[1,180,54,9,"_queueStack"],[1,192,54,23],[1,193,54,24],[1,194,54,25,"tasks"],[1,200,54,32],[1,203,54,36,"popable"],[1,212,54,45],[1,215,55,2],[1,218,57,2],[1,220,57,2,"key"],[1,224,57,2],[1,234,57,2,"value"],[1,240,62,2],[1,249,62,10,"task"],[1,252,63,4,"this"],[1,257,63,9,"_getCurrentQueue"],[1,276,63,28,"push"],[1,281,63,33,"task"],[1,283,64,2],[1,286,64,3],[1,287,64,3,"key"],[1,291,64,3],[1,306,64,3,"value"],[1,312,66,2],[1,321,66,15,"tasks"],[1,324,66,41],[1,328,66,41,"_this"],[1,330,66,41,"this"],[1,335,67,4,"tasks"],[1,337,67,10,"forEach"],[1,346,67,18],[1,355,67,18,"task"],[1,358,67,22],[1,365,67,26,"_this"],[1,367,67,31,"enqueue"],[1,375,67,39,"task"],[1,377,67,44],[1,380,68,2],[1,383,68,3],[1,384,68,3,"key"],[1,388,68,3],[1,402,68,3,"value"],[1,408,70,2],[1,417,70,14,"tasksToCancel"],[1,420,72,4,"this"],[1,425,72,9,"_queueStack"],[1,437,72,23,"this"],[1,442,72,28,"_queueStack"],[1,454,73,7,"map"],[1,459,73,11],[1,468,73,11,"queue"],[1,471,73,16],[1,478,73,16,"Object"],[1,485,73,16,"assign"],[1,492,73,16],[1,495,74,11,"queue"],[1,497,74,16],[1,498,75,8,"tasks"],[1,504,75,15,"queue"],[1,506,75,21,"tasks"],[1,512,75,27,"filter"],[1,520,75,34],[1,529,75,34,"task"],[1,532,75,38],[1,539,75,69],[1,543,75,42,"tasksToCancel"],[1,545,75,56,"indexOf"],[1,553,75,64,"task"],[1,555,75,76],[1,560,75,77],[1,564,77,7,"filter"],[1,572,77,14],[1,581,77,15,"queue"],[1,583,77,22,"idx"],[1,586,77,25],[1,593,77,30,"queue"],[1,595,77,36,"tasks"],[1,601,77,42,"length"],[1,608,77,51],[1,611,77,64],[1,615,77,56,"idx"],[1,616,77,65],[1,619,78,2],[1,622,80,2],[1,623,80,2,"key"],[1,627,80,2],[1,647,80,2,"value"],[1,653,90,2],[1,664,91,4],[1,671,91,11,"this"],[1,676,91,16,"_getCurrentQueue"],[1,695,91,35,"length"],[1,702,91,44],[1,703,92,2],[1,706,94,2],[1,707,94,2,"key"],[1,711,94,2],[1,725,94,2,"value"],[1,731,97,2],[1,742,98,4],[1,746,98,10,"queue"],[1,748,98,18,"this"],[1,753,98,23,"_getCurrentQueue"],[1,772,99,4],[1,775,99,8,"queue"],[1,777,99,14,"length"],[1,784,99,22],[1,785,100,6],[1,789,100,12,"task"],[1,791,100,19,"queue"],[1,793,100,25,"shift"],[1,801,101,6],[1,805,102,28],[1,822,102,19,"task"],[1,825,102,40,"task"],[1,827,102,45,"gen"],[1,831,104,10,"this"],[1,836,104,15,"_genPromise"],[1,848,104,27,"task"],[1,851,105,35],[1,868,105,26,"task"],[1,871,105,47,"task"],[1,873,105,52,"run"],[1,877,107,10,"task"],[1,879,107,15,"run"],[1,886,109,10,"invariant"],[1,888,110,28],[1,907,110,19,"task"],[1,909,111,12],[1,969,112,14,"JSON"],[1,974,112,19,"stringify"],[1,984,112,29,"task"],[1,986,112,35],[1,991,112,41],[1,995,115,10,"task"],[1,999,117,6],[1,1000,117,8],[1,1006,117,15,"e"],[1,1009,120,8],[1,1015,118,8,"e"],[1,1017,118,10,"message"],[1,1025,119,10],[1,1056,119,43,"task"],[1,1058,119,48,"name"],[1,1064,119,56],[1,1068,119,62],[1,1073,119,69,"e"],[1,1075,119,71,"message"],[1,1083,120,14,"e"],[1,1084,121,6],[1,1085,122,4],[1,1086,123,2],[1,1089,123,3],[1,1090,123,3,"key"],[1,1094,123,3],[1,1113,123,3,"value"],[1,1119,132,2],[1,1130,133,4],[1,1134,133,10,"stackIdx"],[1,1136,133,21,"this"],[1,1141,133,26,"_queueStack"],[1,1153,133,38,"length"],[1,1160,133,47],[1,1162,134,10,"queue"],[1,1164,134,18,"this"],[1,1169,134,23,"_queueStack"],[1,1181,134,35,"stackIdx"],[1,1184,135,4],[1,1191,136,6,"queue"],[1,1193,136,12,"popable"],[1,1202,137,29],[1,1206,137,6,"queue"],[1,1208,137,12,"tasks"],[1,1214,137,18,"length"],[1,1222,138,6,"this"],[1,1227,138,11,"_queueStack"],[1,1239,138,23,"length"],[1,1246,138,32],[1,1249,140,6,"this"],[1,1254,140,11,"_queueStack"],[1,1266,140,23,"pop"],[1,1272,146,13,"this"],[1,1277,146,18,"_getCurrentQueue"],[1,1297,148,13,"queue"],[1,1299,148,19,"tasks"],[1,1304,150,2],[1,1307,150,3],[1,1308,150,3,"key"],[1,1312,150,3],[1,1326,150,3,"value"],[1,1332,152,2],[1,1341,152,14,"task"],[1,1344,152,33],[1,1348,152,33,"_this2"],[1,1350,152,33,"this"],[1,1355,157,4,"this"],[1,1360,157,9,"_queueStack"],[1,1372,157,21,"push"],[1,1377,157,26],[1,1378,157,27,"tasks"],[1,1384,157,34],[1,1387,157,38,"popable"],[1,1396,157,47],[1,1400,158,4],[1,1404,158,10,"stackIdx"],[1,1406,158,21,"this"],[1,1411,158,26,"_queueStack"],[1,1423,158,38,"length"],[1,1430,158,47],[1,1432,159,10,"stackItem"],[1,1434,159,22,"this"],[1,1439,159,27,"_queueStack"],[1,1451,159,39,"stackIdx"],[1,1454,162,4,"task"],[1,1456,163,7,"gen"],[1,1462,164,7,"then"],[1,1468,164,12],[1,1479,170,8,"stackItem"],[1,1481,170,18,"popable"],[1,1490,170,28],[1,1492,171,8,"_this2"],[1,1494,171,13,"hasTasksToProcess"],[1,1515,171,36,"_this2"],[1,1517,171,41,"_onMoreTasks"],[1,1531,172,6],[1,1535,173,7,"catch"],[1,1542,173,13],[1,1551,173,13,"ex"],[1,1554,174,8,"setTimeout"],[1,1566,174,19],[1,1577,176,10],[1,1583,175,10,"ex"],[1,1585,175,13,"message"],[1,1593,175,24],[1,1639,175,69,"task"],[1,1641,175,74,"name"],[1,1650,175,83,"ex"],[1,1652,175,86,"message"],[1,1662,176,16,"ex"],[1,1663,177,8],[1,1666,177,11],[1,1668,178,6],[1,1671,179,2],[1,1675,179,3],[1,1677,44,15],[1,1680,182,0,"module"],[1,1682,182,7,"exports"],[1,1690,182,17,"TaskQueue"],[1,1691,182,27]],"functionMap":{"names":["<global>","TaskQueue","constructor","enqueue","enqueueTasks","tasks.forEach$argument_0","cancelTasks","_queueStack.map$argument_0","queue.tasks.filter$argument_0","_queueStack.map.filter$argument_0","hasTasksToProcess","processNext","_getCurrentQueue","_genPromise","task.gen.then$argument_0","task.gen.then._catch$argument_0","setTimeout$argument_0"],"mappings":"AAA;AC2C;ECQ;GDG;EEO;GFE;EGE;kBCC,0BD;GHC;EKE;WCG;kCCE,0CD;QDC;cGC,mDH;GLC;ESY;GTE;EUK;GV0B;EWS;GXkB;EYE;YCY;ODQ;aEC;mBCC;SDG;OFC;GZC;CDC"}},"type":"js/module"}]}